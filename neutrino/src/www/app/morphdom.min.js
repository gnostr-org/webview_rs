"use strict";function morphAttrs(e,t){var n,r,o,a,i,d=t.attributes;for(n=d.length-1;n>=0;--n)o=(r=d[n]).name,a=r.namespaceURI,i=r.value,a?(o=r.localName||o,e.getAttributeNS(a,o)!==i&&e.setAttributeNS(a,o,i)):e.getAttribute(o)!==i&&e.setAttribute(o,i);for(n=(d=e.attributes).length-1;n>=0;--n)!1!==(r=d[n]).specified&&(o=r.name,(a=r.namespaceURI)?(o=r.localName||o,t.hasAttributeNS(a,o)||e.removeAttributeNS(a,o)):t.hasAttribute(o)||e.removeAttribute(o))}var range,NS_XHTML="http://www.w3.org/1999/xhtml",doc="undefined"==typeof document?void 0:document,HAS_TEMPLATE_SUPPORT=!!doc&&"content"in doc.createElement("template"),HAS_RANGE_SUPPORT=!!doc&&doc.createRange&&"createContextualFragment"in doc.createRange();function createFragmentFromTemplate(e){var t=doc.createElement("template");return t.innerHTML=e,t.content.childNodes[0]}function createFragmentFromRange(e){return range||(range=doc.createRange()).selectNode(doc.body),range.createContextualFragment(e).childNodes[0]}function createFragmentFromWrap(e){var t=doc.createElement("body");return t.innerHTML=e,t.childNodes[0]}function toElement(e){return e=e.trim(),HAS_TEMPLATE_SUPPORT?createFragmentFromTemplate(e):HAS_RANGE_SUPPORT?createFragmentFromRange(e):createFragmentFromWrap(e)}function compareNodeNames(e,t){var n=e.nodeName,r=t.nodeName;return n===r||!!(t.actualize&&n.charCodeAt(0)<91&&r.charCodeAt(0)>90)&&n===r.toUpperCase()}function createElementNS(e,t){return t&&t!==NS_XHTML?doc.createElementNS(t,e):doc.createElement(e)}function moveChildren(e,t){for(var n=e.firstChild;n;){var r=n.nextSibling;t.appendChild(n),n=r}return t}function syncBooleanAttrProp(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n))}var specialElHandlers={OPTION:function(e,t){var n=e.parentNode;if(n){var r=n.nodeName.toUpperCase();"OPTGROUP"===r&&(r=(n=n.parentNode)&&n.nodeName.toUpperCase()),"SELECT"!==r||n.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),n.selectedIndex=-1)}syncBooleanAttrProp(e,t,"selected")},INPUT:function(e,t){syncBooleanAttrProp(e,t,"checked"),syncBooleanAttrProp(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n);var r=e.firstChild;if(r){var o=r.nodeValue;if(o==n||!n&&o==e.placeholder)return;r.nodeValue=n}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var n,r,o=-1,a=0,i=e.firstChild;i;)if("OPTGROUP"===(r=i.nodeName&&i.nodeName.toUpperCase()))i=(n=i).firstChild;else{if("OPTION"===r){if(i.hasAttribute("selected")){o=a;break}a++}!(i=i.nextSibling)&&n&&(i=n.nextSibling,n=null)}e.selectedIndex=o}}},ELEMENT_NODE=1,DOCUMENT_FRAGMENT_NODE=11,TEXT_NODE=3,COMMENT_NODE=8;function noop(){}function defaultGetNodeKey(e){return e.id}function morphdomFactory(e){return function(t,n,r){if(r||(r={}),"string"==typeof n)if("#document"===t.nodeName||"HTML"===t.nodeName){var o=n;(n=doc.createElement("html")).innerHTML=o}else n=toElement(n);var a,i=r.getNodeKey||defaultGetNodeKey,d=r.onBeforeNodeAdded||noop,l=r.onNodeAdded||noop,c=r.onBeforeElUpdated||noop,u=r.onElUpdated||noop,m=r.onBeforeNodeDiscarded||noop,N=r.onNodeDiscarded||noop,f=r.onBeforeElChildrenUpdated||noop,s=!0===r.childrenOnly,p={};function E(e){a?a.push(e):a=[e]}function T(e,t,n){!1!==m(e)&&(t&&t.removeChild(e),N(e),function e(t,n){if(t.nodeType===ELEMENT_NODE)for(var r=t.firstChild;r;){var o=void 0;n&&(o=i(r))?E(o):(N(r),r.firstChild&&e(r,n)),r=r.nextSibling}}(e,n))}function v(e){l(e);for(var t=e.firstChild;t;){var n=t.nextSibling,r=i(t);if(r){var o=p[r];o&&compareNodeNames(t,o)&&(t.parentNode.replaceChild(o,t),h(o,t))}v(t),t=n}}function h(r,o,a){var l=i(o);if(l&&delete p[l],!n.isSameNode||!n.isSameNode(t)){if(!a){if(!1===c(r,o))return;if(e(r,o),u(r),!1===f(r,o))return}"TEXTAREA"!==r.nodeName?function(e,t){var n,r,o,a,l,c=t.firstChild,u=e.firstChild;e:for(;c;){for(a=c.nextSibling,n=i(c);u;){if(o=u.nextSibling,c.isSameNode&&c.isSameNode(u)){c=a,u=o;continue e}r=i(u);var m=u.nodeType,N=void 0;if(m===c.nodeType&&(m===ELEMENT_NODE?(n?n!==r&&((l=p[n])?o===l?N=!1:(e.insertBefore(l,u),r?E(r):T(u,e,!0),u=l):N=!1):r&&(N=!1),(N=!1!==N&&compareNodeNames(u,c))&&h(u,c)):m!==TEXT_NODE&&m!=COMMENT_NODE||(N=!0,u.nodeValue!==c.nodeValue&&(u.nodeValue=c.nodeValue))),N){c=a,u=o;continue e}r?E(r):T(u,e,!0),u=o}if(n&&(l=p[n])&&compareNodeNames(l,c))e.appendChild(l),h(l,c);else{var f=d(c);!1!==f&&(f&&(c=f),c.actualize&&(c=c.actualize(e.ownerDocument||doc)),e.appendChild(c),v(c))}c=a,u=o}!function(e,t,n){for(;t;){var r=t.nextSibling;(n=i(t))?E(n):T(t,e,!0),t=r}}(e,u,r);var s=specialElHandlers[e.nodeName];s&&s(e,t)}(r,o):specialElHandlers.TEXTAREA(r,o)}}!function e(t){if(t.nodeType===ELEMENT_NODE||t.nodeType===DOCUMENT_FRAGMENT_NODE)for(var n=t.firstChild;n;){var r=i(n);r&&(p[r]=n),e(n),n=n.nextSibling}}(t);var A=t,g=A.nodeType,C=n.nodeType;if(!s)if(g===ELEMENT_NODE)C===ELEMENT_NODE?compareNodeNames(t,n)||(N(t),A=moveChildren(t,createElementNS(n.nodeName,n.namespaceURI))):A=n;else if(g===TEXT_NODE||g===COMMENT_NODE){if(C===g)return A.nodeValue!==n.nodeValue&&(A.nodeValue=n.nodeValue),A;A=n}if(A===n)N(t);else if(h(A,n,s),a)for(var b=0,O=a.length;b<O;b++){var S=p[a[b]];S&&T(S,S.parentNode,!1)}return!s&&A!==t&&t.parentNode&&(A.actualize&&(A=A.actualize(t.ownerDocument||doc)),t.parentNode.replaceChild(A,t)),A}}var morphdom=morphdomFactory(morphAttrs);